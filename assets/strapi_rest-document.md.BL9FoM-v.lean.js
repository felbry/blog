import{_ as a,c as i,a4 as n,o as e}from"./chunks/framework.07rp2gkU.js";const r=JSON.parse('{"title":"REST/Document 操作","description":"","frontmatter":{},"headers":[],"relativePath":"strapi/rest-document.md","filePath":"strapi/rest-document.md","lastUpdated":1758533365000}'),t={name:"strapi/rest-document.md"};function p(l,s,h,d,k,c){return e(),i("div",null,s[0]||(s[0]=[n(`<h1 id="rest-document-操作" tabindex="-1">REST/Document 操作 <a class="header-anchor" href="#rest-document-操作" aria-label="Permalink to &quot;REST/Document 操作&quot;">​</a></h1><h2 id="默认查询是否有分页" tabindex="-1">默认查询是否有分页？ <a class="header-anchor" href="#默认查询是否有分页" aria-label="Permalink to &quot;默认查询是否有分页？&quot;">​</a></h2><p>比如：实体的<code>get</code>请求、<code>document</code>的<code>findMany</code></p><h3 id="rest" tabindex="-1">REST <a class="header-anchor" href="#rest" aria-label="Permalink to &quot;REST&quot;">​</a></h3><p><strong>默认是分页的</strong></p><p><code>get</code>请求返回一个<code>{ data: [], meta: { pagination: { page, pageCount, pageSize, total } } }</code>结构的列表数据。默认<code>page</code>为<code>1</code>，<code>pageSize</code>为<code>25</code></p><h3 id="document" tabindex="-1">Document <a class="header-anchor" href="#document" aria-label="Permalink to &quot;Document&quot;">​</a></h3><p><strong>默认是不分页的</strong></p><p><code>findMany</code>默认返回一个<code>[]</code>结构的（全部）列表数据，如果要分页，有以下几种情况：</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>start</code>和<code>limit</code>都是顶级属性，<s>pagination</s>是 REST 接口层面使用的</p></div><ul><li>只传<code>start</code>：返回从<code>start</code>值开始的（全部）数据，返回数据结构为<code>[]</code></li><li><code>start</code>和<code>limit</code>结合：传统的分页，返回数据结构为<code>[]</code></li></ul><h2 id="查关系字段" tabindex="-1">查关系字段 <a class="header-anchor" href="#查关系字段" aria-label="Permalink to &quot;查关系字段&quot;">​</a></h2><p>比如要查一本书，它的分类是 IT</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  category</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    documentId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      $eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IT_CATEGORY_ID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span></code></pre></div><p>虽然<code>category</code>是个关系字段，仍然可以像查普通字段一样操作，比如不用<code>id</code>查而是<code>name</code>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  category</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      $eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IT_CATEGORY_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span></code></pre></div><p>如果 A 的某个字段和 B 是一对多或多对多的关系，举例：某个摄影作品，<strong>分类</strong>既可以是户外，也可以是婚礼，那要查摄影作品时，这个分类该怎么查呢？</p><p><strong>多个关系可能会想到用$contains，但它是用于字符串的？实测还是用<code>$eq</code></strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  category</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    documentId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      $eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TARGET_CATEGORY_ID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 这个ID可以是户外的，也可以是婚礼的</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span></code></pre></div>`,19)]))}const E=a(t,[["render",p]]);export{r as __pageData,E as default};
